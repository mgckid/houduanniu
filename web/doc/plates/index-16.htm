<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Escaping - Plates</title>
<meta name="description" content="Plates is a Twig inspired, native PHP template system that brings modern template language functionality to native PHP templates.">
<xbasehref="http://platesphp.com">
<link rel="icon" type="image/x-icon" href="/favicon.ico"/>
<link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
<link rel="stylesheet" href="all.css" tppabs="http://theme.thephpleague.com/css/all.css">
<link rel="stylesheet" href="custom.css" tppabs="http://platesphp.com/css/custom.css">
</head>
<body>
<a href="javascript:if(confirm('https://github.com/thephpleague/plates  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™  «“ª∏ˆ π”√Œ¥÷ß≥÷–≠“Èµƒµÿ÷∑(¿˝»Á: gopher)°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='https://github.com/thephpleague/plates'" tppabs="https://github.com/thephpleague/plates" class="github">
<img src="68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" tppabs="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="forkme_right_red_aa0000.png" tppabs="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
</a>
<section class="all_packages">
<a href="javascript:if(confirm('http://thephpleague.com/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://thephpleague.com/'" tppabs="http://thephpleague.com/">
<img src="loep_logo.png" tppabs="http://theme.thephpleague.com/img/loep_logo.png" width="195" height="200" alt="The League of Extraordinary Packages">
</a>
<h2>Our Packages:</h2>
<ul>
 
</ul>
</section>
<header>
<a class="logo" href="index.htm" tppabs="http://platesphp.com/">
<span class="icon">
<img src="logo.png" tppabs="http://platesphp.com/logo.png" width="50" height="40" alt="Plates - Native PHP Templates">
</span>
<span class="name">Plates</span>
<span class="tagline">Native PHP Templates</span>
</a>
<a href="javascript:if(confirm('http://thephpleague.com/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://thephpleague.com/'" tppabs="http://thephpleague.com/" class="league">
Presented by The League of Extraordinary Packages
</a>
</header>
<input type="checkbox" id="menu">
<label for="menu" onclick>
<div class="closed">&#9776; Menu</div>
<div class="open">&#9776; Hide Menu</div>
</label>
<main>
<menu>
<h2>Getting Started</h2>
<ul>
<li>
<a href="index.htm" tppabs="http://platesphp.com/">Introduction</a>
</li>
<li>
<a href="index-1.htm" tppabs="http://platesphp.com/simple-example/">Simple example</a>
</li>
<li>
<a href="index-2.htm" tppabs="http://platesphp.com/installation/">Installation</a>
</li>
<li>
<a href="index-3.htm" tppabs="http://platesphp.com/changelog/">Changelog</a>
</li>
</ul>
<h2>The Engine</h2>
<ul>
<li>
<a href="index-4.htm" tppabs="http://platesphp.com/engine/">Overview</a>
</li>
<li>
<a href="index-5.htm" tppabs="http://platesphp.com/engine/file-extensions/">File extensions</a>
</li>
<li>
<a href="index-6.htm" tppabs="http://platesphp.com/engine/folders/">Folders</a>
</li>
<li>
<a href="index-7.htm" tppabs="http://platesphp.com/engine/functions/">Functions</a>
</li>
<li>
<a href="index-8.htm" tppabs="http://platesphp.com/engine/extensions/">Extensions</a>
</li>
</ul>
<h2>Templates</h2>
<ul>
<li>
<a href="index-9.htm" tppabs="http://platesphp.com/templates/">Overview</a>
</li>
<li>
<a href="index-10.htm" tppabs="http://platesphp.com/templates/data/">Data</a>
</li>
<li>
<a href="javascript:if(confirm('http://platesphp.com/templates/functions/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ ∏√Œƒº˛≤ªø…”√ªÚœ¬‘ÿ“—±ª÷–÷π£¨ªÚ∏√π§≥Ã“—±ªÕ£÷π°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://platesphp.com/templates/functions/'" tppabs="http://platesphp.com/templates/functions/">Functions</a>
</li>
<li>
<a href="index-12.htm" tppabs="http://platesphp.com/templates/nesting/">Nesting</a>
</li>
<li>
<a href="index-13.htm" tppabs="http://platesphp.com/templates/layouts/">Layouts</a>
</li>
<li>
<a href="index-14.htm" tppabs="http://platesphp.com/templates/sections/">Sections</a>
</li>
<li>
<a href="index-15.htm" tppabs="http://platesphp.com/templates/inheritance/">Inheritance</a>
</li>
<li class="selected">
<a href="index-16.htm" tppabs="http://platesphp.com/templates/escaping/">Escaping</a>
</li>
<li>
<a href="index-17.htm" tppabs="http://platesphp.com/templates/syntax/">Syntax</a>
</li>
</ul>
<h2>Extensions</h2>
<ul>
<li>
<a href="index-18.htm" tppabs="http://platesphp.com/extensions/asset/">Asset</a>
</li>
<li>
<a href="index-19.htm" tppabs="http://platesphp.com/extensions/uri/">URI</a>
</li>
</ul>
</menu>
<article>
<h1 id="escaping">Escaping</h1>
<p>Escaping is a form of <a href="javascript:if(confirm('http://www.phptherightway.com/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://www.phptherightway.com/#data_filtering'" tppabs="http://www.phptherightway.com/#data_filtering">data filtering</a> which sanitizes unsafe, user supplied input prior to outputting it as HTML. Plates provides two shortcuts to the <code class="highlighter-rouge">htmlspecialchars()</code> function.</p>
<h2 id="escaping-example">Escaping example</h2>
<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>Hello, <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span><span class="cp">?&gt;</span><span class="nt">&lt;/h1&gt;</span>

<span class="c">&lt;!-- Using the alternative, shorthand function --&gt;</span>
<span class="nt">&lt;h1&gt;</span>Hello, <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span><span class="cp">?&gt;</span><span class="nt">&lt;/h1&gt;</span>
</code></pre>
</div>
<h2 id="batch-function-calls">Batch function calls</h2>
<p>The escape functions also support <a href="javascript:if(confirm('http://platesphp.com/templates/functions/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ ∏√Œƒº˛≤ªø…”√ªÚœ¬‘ÿ“—±ª÷–÷π£¨ªÚ∏√π§≥Ã“—±ªÕ£÷π°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://platesphp.com/templates/functions/#batch-function-calls'" tppabs="http://platesphp.com/templates/functions/#batch-function-calls">batch</a> function calls, which allow you to apply multiple functions, including native PHP functions, to a variable at one time.</p>
<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>Welcome <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="s1">'strip_tags|strtoupper'</span><span class="p">)</span><span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
</code></pre>
</div>
<h2 id="escaping-html-attributes">Escaping HTML attributes</h2>
<p class="message-notice">It's VERY important to always double quote HTML attributes that contain escaped variables, otherwise your template will still be open to injection attacks.</p>
<p>Some <a href="javascript:if(confirm('http://framework.zend.com/manual/2.1/en/modules/zend.escaper.escaping-html-attributes.html  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://framework.zend.com/manual/2.1/en/modules/zend.escaper.escaping-html-attributes.html'" tppabs="http://framework.zend.com/manual/2.1/en/modules/zend.escaper.escaping-html-attributes.html">libraries</a> go as far as having a special function for escaping HTML attributes. However, this is somewhat redundant considering that if a developer forgets to properly quote an HTML attribute, they will likely also forget to use this special function. Here is how you properly escape HTML attributes:</p>
<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Good --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"portrait.jpg"</span> <span class="na">alt=</span><span class="s">"</span><span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span><span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span>

<span class="c">&lt;!-- BAD --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"portrait.jpg"</span> <span class="na">alt=</span><span class="s">'</span><span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span><span class="cp">?&gt;</span><span class="s">'</span><span class="nt">&gt;</span>

<span class="c">&lt;!-- BAD --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"portrait.jpg"</span> <span class="na">alt=</span><span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span><span class="cp">?&gt;</span><span class="err">&gt;
</span></code></pre>
</div>
<h2 id="automatic-escaping">Automatic escaping</h2>
<p>Probably the biggest drawbacks to native PHP templates is the inability to auto-escape variables properly. Template languages like Twig and Smarty can identify ‚Äúechoed‚Äù variables during a parsing stage and automatically escape them. This cannot be done in native PHP as the language does not offer overloading functionality for it‚Äôs output functions (ie. <code class="highlighter-rouge">print</code> and <code class="highlighter-rouge">echo</code>).</p>
<p>Don‚Äôt worry, escaping can still be done safely, it just means you are responsible for manually escaping each variable on output. Consider creating a snippet for one of the above, built-in escaping functions to make this process easier.</p>
</article>
</main>
<footer>
<span>&copy; Copyright <a href="javascript:if(confirm('http://thephpleague.com/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://thephpleague.com/'" tppabs="http://thephpleague.com/">The League of Extraordinary Packages</a>.</span>
<span>Site design by <a href="javascript:if(confirm('http://reinink.ca/  \n\n∏√Œƒº˛Œ¥±ª Teleport Pro œ¬‘ÿ£¨“ÚŒ™ À¸Œª”⁄∆ ºµÿ÷∑“‘…Ë÷√µƒ±ﬂΩÁ“‘Õ‚µƒ”ÚªÚ¬∑æ∂÷–°£  \n\nƒ„œÎ“™¥”∑˛ŒÒ∆˜¥Úø™À¸¬?'))window.location='http://reinink.ca/'" tppabs="http://reinink.ca/">Jonathan Reinink</a>.</span>
</footer>
<script src="jquery.min.js" tppabs="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="scripts.js" tppabs="http://theme.thephpleague.com/js/scripts.js"></script>
<script src="prism.js" tppabs="http://theme.thephpleague.com/js/prism.js"></script>
<script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='analytics.js'/*tpa=http://www.google-analytics.com/analytics.js*/;
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-46050814-2');ga('send','pageview');
    </script>
</body>
</html>